# MVC-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Razor

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ MVC ‚Äî –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**MVC** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± "—Ä–∞–∑–ª–æ–∂–∏—Ç—å –ø–æ –ø–æ–ª–æ—á–∫–∞–º" –≤—Å—ë, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.  
–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫:  
**Model (–ú–æ–¥–µ–ª—å)**, **View (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)**, **Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)**.  

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Å–∞–π—Ç ‚Äî —ç—Ç–æ –∫–∞–∫ **–ø–∏—Ü—Ü–µ—Ä–∏—è —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π** üçï  

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–±—Ä–∞—É–∑–µ—Ä)** ‚Äî –∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –∑–∞–∫–∞–∑.  
- **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É.  
- **–ú–æ–¥–µ–ª—å** ‚Äî —Å–∞–º–∞ –ø–∏—Ü—Ü–∞: —Ä–µ—Ü–µ–ø—Ç, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –∏ —Ü–µ–Ω–∞.  
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)** ‚Äî –∫—É—Ö–Ω—è, –≥–¥–µ –≤—Å—ë –≥–æ—Ç–æ–≤–∏—Ç—Å—è.  
- **View (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)** ‚Äî —É–ø–∞–∫–æ–≤–∫–∞ –∏ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –ø–∏—Ü—Ü—ã, —Ç–æ, –∫–∞–∫ –æ–Ω–∞ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ –∫–ª–∏–µ–Ω—Ç—É.  

---

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —à–∞–≥–∞–º

1. **–ö–ª–∏–µ–Ω—Ç (–±—Ä–∞—É–∑–µ—Ä)** –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç –∏ –ø—Ä–æ—Å–∏—Ç: ‚Äú–ü–æ–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫ –ø–∏—Ü—Ü‚Äù.  
2. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≥–æ–≤–æ—Ä–∏—Ç –º–æ–¥–µ–ª–∏: ‚Äú–î–∞–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∏—Ü—Ü‚Äù.  
3. **–ú–æ–¥–µ–ª—å** –±–µ—Ä—ë—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã (–∫—É—Ö–Ω–∏) –∏ –æ—Ç–¥–∞—ë—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É.  
4. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** –ø–µ—Ä–µ–¥–∞—ë—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ **View (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)**.  
5. **View** –æ—Ñ–æ—Ä–º–ª—è–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –∫—Ä–∞—Å–∏–≤—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.  

üì¶ –ü–æ—Ç–æ–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:  
**–ë—Ä–∞—É–∑–µ—Ä ‚Üí –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ‚Üí –ú–æ–¥–µ–ª—å (—á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö) ‚Üí –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ‚Üí View ‚Üí HTML ‚Üí –ë—Ä–∞—É–∑–µ—Ä**

---

### –ü–æ—á–µ–º—É MVC ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω–æ

- üîπ **–ü–æ—Ä—è–¥–æ–∫ –≤ –∫–æ–¥–µ** ‚Äî –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—ë:  
  –º–æ–¥–µ–ª—å ‚Äî –∑–∞ –¥–∞–Ω–Ω—ã–µ, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ‚Äî –∑–∞ –ª–æ–≥–∏–∫—É, view ‚Äî –∑–∞ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥.  
- üîπ **–ü—Ä–æ—â–µ —á–∏–Ω–∏—Ç—å** ‚Äî –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏, –∏–¥—ë–º –≤–æ View; –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ ‚Äî –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.  
- üîπ **–õ–µ–≥—á–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å** ‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –¥–∏–∑–∞–π–Ω –±–µ–∑ —Ç—Ä–æ–≥–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.  
- üîπ **–ü–æ–Ω—è—Ç–Ω–æ –¥—Ä—É–≥–∏–º** ‚Äî –ø–æ—á—Ç–∏ –≤—Å–µ .NET-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–Ω–∞—é—Ç MVC, —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç.  

---

## 2. –ß—Ç–æ —Ç–∞–∫–æ–µ Razor –≤ MVC

**Razor** ‚Äî —ç—Ç–æ —è–∑—ã–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç **—Å–º–µ—à–∏–≤–∞—Ç—å C# –∏ HTML** –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.  
–û–Ω –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã **–ø–æ–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.  

Razor-—Ñ–∞–π–ª—ã –∏–º–µ—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **`.cshtml`** –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ **Views (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π)**.  
–ì–ª–∞–≤–Ω–∞—è —Ñ–∏—à–∫–∞ Razor ‚Äî —Å–∏–º–≤–æ–ª **`@`**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: ‚Äú—Å–µ–π—á–∞—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∫–æ–¥ –Ω–∞ C#‚Äù.

---

### üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

Razor –±–µ—Ä—ë—Ç HTML-—à–∞–±–ª–æ–Ω –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤ –Ω–µ–≥–æ –∫—É—Å–æ—á–∫–∏ C#-–∫–æ–¥–∞.  
–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É, –æ–Ω **–≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥**, –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏ **–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–∂–µ –≥–æ—Ç–æ–≤—ã–π HTML** –≤ –±—Ä–∞—É–∑–µ—Ä.

**–ü—Ä–∏–º–µ—Ä –∏–¥–µ–∏:**
- –ë—ã–ª–æ: ‚Äú@Model.Name‚Äù
- –°—Ç–∞–ª–æ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ): ‚Äú–ü–∏—Ü—Ü–∞ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞‚Äù

---

### üîß –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å Razor

- –ü–∏—Å–∞—Ç—å C# –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ HTML.  
- –í—ã–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–¥–µ–ª–∏: `@Model.Name`, `@Model.Price`.  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—É—Å–ª–æ–≤–∏—è** (`if`, `else`).  
- –î–µ–ª–∞—Ç—å **—Ü–∏–∫–ª—ã** (`foreach`, `for`).  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Tag Helpers** ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.  
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏, layout‚Äô–∞–º–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤.


---

## 3. –ß—Ç–æ —Ç–∞–∫–æ–µ Razor Pages

**Razor Pages** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.  
–ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–º–∞ —Å–µ–±–µ ¬´–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä¬ª: —É –Ω–µ—ë –µ—Å—Ç—å **HTML —Å Razor-–∫–æ–¥–æ–º** –∏ —Ä—è–¥–æ–º ‚Äî **C#-—Ñ–∞–π–ª —Å –ª–æ–≥–∏–∫–æ–π**.  

---

### üß© –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —Ñ–∞–π–ª–æ–≤:

1. `Index.cshtml` ‚Äî —ç—Ç–æ **—Ä–∞–∑–º–µ—Ç–∫–∞** (HTML + Razor).  
2. `Index.cshtml.cs` ‚Äî —ç—Ç–æ **–∫–æ–¥-–±–∏—Ö–∞–π–Ω–¥** (C#), –≥–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã.

---

### ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É (–Ω–∞–ø—Ä–∏–º–µ—Ä `/Products`).  
2. Razor Page –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `OnGet()` –≤ —Ñ–∞–π–ª–µ `Products.cshtml.cs`.  
3. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É Razor (`Products.cshtml`).  
4. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `OnPost()`.

---

### üß† –ö–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Razor Pages

- –ú–∞–ª–µ–Ω—å–∫–∏–µ —Å–∞–π—Ç—ã, –ª–µ–Ω–¥–∏–Ω–≥–∏, —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ñ–æ—Ä–º–∞–º–∏.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–¥–µ –Ω–µ—Ç —á—ë—Ç–∫–∏—Ö API –∏ —Å–ª–æ–∂–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
- –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ CRUD-—Å—Ç—Ä–∞–Ω–∏—Ü (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π).  

---

## 4. –ß—Ç–æ —Ç–∞–∫–æ–µ Blazor (–¥–ª—è –∫—Ä—É–≥–æ–∑–æ—Ä–∞)

**Blazor** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã **–Ω–∞ C# –≤–º–µ—Å—Ç–æ JavaScript**.  
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π, –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π) **–Ω–∞ –æ–¥–Ω–æ–º —è–∑—ã–∫–µ ‚Äî C#**.  

Blazor –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MVC. –≠—Ç–æ –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥, –≥–¥–µ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** ‚Äî –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫—É—Å–æ—á–∫–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

---

### ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Blazor

Blazor –±—ã–≤–∞–µ—Ç –¥–≤—É—Ö –≤–∏–¥–æ–≤:

| –í–∏–¥ | –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–¥ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|---|-------|------|
| **Blazor WebAssembly** | –ü—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (—á–µ—Ä–µ–∑ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é WebAssembly) | –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞, –≤—Å—ë –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ. |
| **Blazor Server** | –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∞ –±—Ä–∞—É–∑–µ—Ä —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –ë—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º (SignalR). |

---

### üß© –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî —ç—Ç–æ –∫—É—Å–æ—á–µ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞, –º–µ–Ω—é, —Ñ–æ—Ä–º–∞), –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Razor + C#.  
–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ‚Äî —ç—Ç–æ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.razor`.

–ö–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, Blazor –≤—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–æ –∫–∞–∫ HTML, –Ω–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫–æ–π —É–∂–µ –Ω–∞ C#.

---

### üí¨ –ü–æ—á–µ–º—É –º—ã —É–ø–æ–º–∏–Ω–∞–µ–º Blazor, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º

–í —ç—Ç–æ–º –∫—É—Ä—Å–µ –º—ã –Ω–µ –∏–∑—É—á–∞–µ–º Blazor, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –±–ª–∏–∂–µ –∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º SPA (–≤—Ä–æ–¥–µ React –∏–ª–∏ Angular).
–ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –ø–æ–Ω—è—Ç—å –æ—Å–Ω–æ–≤—É MVC –∏ Razor, —á—Ç–æ–±—ã —É–º–µ—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ backend, –∞ –ø–æ—Ç–æ–º —É–∂–µ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ Blazor –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏.

–í–∞–∂–Ω–æ:
Blazor ‚Äî —ç—Ç–æ –Ω–µ ¬´–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ¬ª –∫ MVC, –∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è UI –≤ .NET.

---

## 5. –ü–æ—á–µ–º—É ¬´MVC + Razor –≤ MVC¬ª ‚Äî –ø—Ä–æ—â–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –±–ª–∏–∂–µ –∫ enterprise/API

- **–ú–µ–Ω—Ç–∞–ª—å–Ω–æ –ø—Ä–æ—â–µ:** MVC –Ω–∞—Å–∏–ª—å–Ω–æ –¥–µ–ª–∏—Ç –∫–æ–¥ –Ω–∞ ¬´–¥–∞–Ω–Ω—ã–µ/–ª–æ–≥–∏–∫–∞/–≤–∏–¥¬ª, —É–ø—Ä–æ—â–∞—è –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞.
- **–ü–æ—Ö–æ–∂–µ –Ω–∞ Web API:** –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã —Ç–µ –∂–µ; –æ—Ç–ª–∏—á–∏–µ ‚Äî View vs `return Ok(...)`. –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç MVC –∫ API –º–∏–Ω–∏–º–∞–ª–µ–Ω.
- **–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ DI:** –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (`IProductStore`), —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–º–µ–Ω—è–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ ‚Äî —Ä–æ–≤–Ω–æ –∫–∞–∫ –≤ ¬´–≤–∑—Ä–æ—Å–ª—ã—Ö¬ª —Å–µ—Ä–≤–∏—Å–∞—Ö.
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç—ã:** –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç –ª–æ–≥–∏–∫–∏ –æ–±–ª–µ–≥—á–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥.

---

## 6. –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å MVC‚Äë–ø—Ä–æ–µ–∫—Ç –≤ JetBrains Rider (.NET 9)

1. **File ‚Üí New‚Ä¶ ‚Üí ASP.NET Core Web App (MVC)**.  
2. –ù–∞–∂–º–∏—Ç–µ **Create** ‚Üí **Build** ‚Üí **Run (‚ñ∂)**.  
3. –ï—Å–ª–∏ Rider —Å–ø—Ä–æ—Å–∏—Ç –±—Ä–∞—É–∑–µ—Ä ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ Chromium‚Äëbased (Chrome/Edge).

---

## 7. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

```
 WebApplication/
    ‚îú‚îÄ WebApplication4.sln                  ‚Üê —Ä–µ—à–µ–Ω–∏–µ (–æ—Ç–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ –≤ Rider)
    ‚îî‚îÄ WebApplication4/                     ‚Üê —Å–∞–º –ø—Ä–æ–µ–∫—Ç (–æ–¥–∏–Ω –∏–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ —Ä–µ—à–µ–Ω–∏–∏)
       ‚îú‚îÄ WebApplication4.csproj            ‚Üê —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞ (.NET –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
       ‚îú‚îÄ Program.cs                        ‚Üê –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤/–ø–∞–π–ø–ª–∞–π–Ω–∞
       ‚îú‚îÄ Controllers/                      ‚Üê –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (C# –∫–ª–∞—Å—Å—ã)
       ‚îÇ   ‚îî‚îÄ HomeController.cs
       ‚îú‚îÄ Models/                           ‚Üê –º–æ–¥–µ–ª–∏ (–∫–ª–∞—Å—Å—ã –¥–∞–Ω–Ω—ã—Ö/DTO/VM)
       ‚îÇ   ‚îî‚îÄ ErrorViewModel.cs
       ‚îú‚îÄ Views/                            ‚Üê Razor-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (—à–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü)
       ‚îÇ   ‚îú‚îÄ _ViewImports.cshtml
       ‚îÇ   ‚îú‚îÄ _ViewStart.cshtml
       ‚îÇ   ‚îú‚îÄ Shared/                       ‚Üê –æ–±—â–∏–µ —á–∞—Å—Ç–∏ (—à–∞–±–ª–æ–Ω—ã –º–∞–∫–µ—Ç–∞ –∏ —Ç.–ø.)
       ‚îÇ   ‚îÇ   ‚îî‚îÄ _Layout.cshtml
       ‚îÇ   ‚îî‚îÄ Home/                         ‚Üê –ø–∞–ø–∫–∞ —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏ –¥–ª—è HomeController
       ‚îÇ       ‚îú‚îÄ Index.cshtml
       ‚îÇ       ‚îî‚îÄ Privacy.cshtml
       ‚îú‚îÄ wwwroot/                          ‚Üê —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∫–∞—Ä—Ç–∏–Ω–∫–∏, —à—Ä–∏—Ñ—Ç—ã)
       ‚îÇ   ‚îú‚îÄ css/site.css
       ‚îÇ   ‚îú‚îÄ js/site.js
       ‚îÇ   ‚îî‚îÄ lib/                          ‚Üê —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (bootstrap, jquery –∏ —Ç.–ø.)
       ‚îú‚îÄ appsettings.json                  ‚Üê –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
       ‚îú‚îÄ appsettings.Development.json      ‚Üê –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏—è Development
       ‚îú‚îÄ Properties/
       ‚îÇ   ‚îî‚îÄ launchSettings.json           ‚Üê –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ (URL, –ø—Ä–æ—Ñ–∏–ª—å)
```

---

### –ö–æ—Ä–æ—Ç–∫–æ, —á—Ç–æ —ç—Ç–æ –∑–∞ —Ñ–∞–π–ª—ã

-   **`*.sln`** - ¬´–ø–∞–ø–∫–∞-—è—Ä–ª—ã–∫¬ª –¥–ª—è Rider/Visual Studio, –≤ –Ω–µ–π —Å—Å—ã–ª–∫–∏
    –Ω–∞ –ø—Ä–æ–µ–∫—Ç—ã.\
-   **`*.csproj`** - ¬´–ø–∞—Å–ø–æ—Ä—Ç¬ª –ø—Ä–æ–µ–∫—Ç–∞: —Ç–∞—Ä–≥–µ—Ç-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫, –≤–∫–ª—é—á—ë–Ω–Ω—ã–µ
    —Ñ–∏—á–∏, NuGet-–ø–∞–∫–µ—Ç—ã.\
-   **`Program.cs`** - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã, middleware –∏
    –º–∞—Ä—à—Ä—É—Ç—ã.\
-   **`Controllers/`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (–∫–ª–∞—Å—Å—ã Controller).\
-   **`Models/`** - –∫–ª–∞—Å—Å—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—ë–º –º–µ–∂–¥—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º
    –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º.\
-   **`Views/`** - Razor-—Å—Ç—Ä–∞–Ω–∏—Ü—ã (HTML + C#).\
-   **`wwwroot/`** - –æ–±—ã—á–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–¥–∞—é—Ç—Å—è –∫–∞–∫
    –µ—Å—Ç—å.\
-   **`appsettings*.json`** - –∫–æ–Ω—Ñ–∏–≥–∏. –ú–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏
    –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∫–ª—é—á–∏, —Ñ–ª–∞–≥–∏.\
-   **`launchSettings.json`** - –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ (–∞–¥—Ä–µ—Å, HTTPS,
    –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è).

---

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ (`Program.cs`)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ö–æ—Å—Ç–∏–Ω–≥-–º–æ–¥–µ–ª—å** (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å .NET
8/9):

```csharp
var builder = WebApplication.CreateBuilder(args);

// 1) –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è MVC:
builder.Services.AddControllersWithViews();

var app = builder.Build();

// 2) –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–æ–Ω–≤–µ–π–µ—Ä (middleware):
if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error"); // —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ–¥–µ
    app.UseHsts();                           // HSTS –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
}

app.UseHttpsRedirection();   // –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç http ‚Üí https
app.UseRouting();            // –≤–∫–ª—é—á–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é
app.UseAuthorization();      // –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –±—É–¥–µ—Ç –Ω—É–∂–Ω–∞)

// 3) –†–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏–∫–∏:
app.MapStaticAssets();       // wwwroot + WithStaticAssets –Ω–∏–∂–µ

// 4) –ú–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (MVC):
app.MapControllerRoute(
        name: "default",
        pattern: "{controller=Home}/{action=Index}/{id?}")
   .WithStaticAssets();

app.Run();                   // –∑–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
```
---

–ü—Ä—è–º–æ —á–µ–ª–æ–≤–µ—á—å–∏: 
- –ú—ã —Å–∫–∞–∑–∞–ª–∏ ¬´—Ö–æ—á—É MVC¬ª ‚Üí
`AddControllersWithViews()`. 
- –ú—ã —Å–æ–±—Ä–∞–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí`builder.Build()`. 
- –ú—ã –≤–∫–ª—é—á–∏–ª–∏ –ø–æ–ª–µ–∑–Ω—ã–µ ¬´—Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–æ—Ä–æ–≥–µ¬ª
(middleware): HTTPS, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ —Ç.–¥. 
- –ú—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ **–º–∞—Ä—à—Ä—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –µ—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã—Ç—å `/`, —Ç–æ —ç—Ç–æ
–∑–Ω–∞—á–∏—Ç `HomeController.Index`. - –ú—ã –≤–∫–ª—é—á–∏–ª–∏ —Ä–∞–∑–¥–∞—á—É —Å—Ç–∞—Ç–∏–∫–∏ –∏–∑
`wwwroot`.
---


## 8. –ñ–∏–∑–Ω—å –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (–∫–∞–∫ –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç HTML)

1.  –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `https://localhost:7217/`
2.  –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤–∏–¥–∏—Ç –ø—É—Å—Ç–æ–π –ø—É—Ç—å –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** `controller=Home`, `action=Index`.
3.  –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `HomeController.Index()` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `View()`.
4.  MVC –∏—â–µ—Ç —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: `Views/Home/Index.cshtml`.
5.  –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ **–æ–±—â–µ–≥–æ –º–∞–∫–µ—Ç–∞** `Views/Shared/_Layout.cshtml`.
6.  –ò—Ç–æ–≥–æ–≤—ã–π HTML —É—Ö–æ–¥–∏—Ç –≤ –±—Ä–∞—É–∑–µ—Ä.

---

## 9. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (Actions)

–§–∞–π–ª: `Controllers/HomeController.cs`

```csharp
public class HomeController : Controller
{
    private readonly ILogger<HomeController> _logger;
    public HomeController(ILogger<HomeController> logger) { _logger = logger; }

    public IActionResult Index()   => View(); // –≤–µ—Ä–Ω—ë—Ç Views/Home/Index.cshtml
    public IActionResult Privacy() => View(); // –≤–µ—Ä–Ω—ë—Ç Views/Home/Privacy.cshtml

    [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]
    public IActionResult Error()
    {
        return View(new ErrorViewModel { 
            RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier 
        });
    }
}
```

-   **`Controller`** - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å —É–¥–æ–±–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏: `View()`,
    `Json()`, `Redirect()` –∏ —Ç.–¥.
-   **`Index/Privacy`** - –æ–±—ã—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è. –ò–º–µ–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –∏–º–µ–Ω–∞–º–∏
    —Ñ–∞–π–ª–æ–≤ –≤ `Views/Home/`.
-   **`Error()`** - –æ—Ç–¥–∞—ë—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–æ–∫ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –≤
    –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—å `ErrorViewModel`.
---

## 10. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views) –∏ –æ–±—â–∏–µ —Ñ–∞–π–ª—ã Razor

### 10.1 –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

-   –î–ª—è `HomeController.Index()` MVC –∏—â–µ—Ç `Views/Home/Index.cshtml`.
-   –î–ª—è `HomeController.Privacy()` - `Views/Home/Privacy.cshtml`.
-   **–ú–∞–∫–µ—Ç** (`_Layout.cshtml`) - –æ–±—â–∏–π —à–∞–±–ª–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—à–∞–ø–∫–∞/–º–µ–Ω—é/–ø–æ–¥–≤–∞–ª). –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ç—É–¥–∞ —á–µ—Ä–µ–∑ `@RenderBody()`.

### 10.2 –ß—Ç–æ —Ç–∞–∫–æ–µ `_ViewStart` –∏ `_ViewImports`

-   `Views/_ViewStart.cshtml` - –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞–¥–∞—ë—Ç –º–∞–∫–µ—Ç –¥–ª—è –≤—Å–µ—Ö
    —Å—Ç—Ä–∞–Ω–∏—Ü:

    ```csharp
    @{
        Layout = "_Layout";
    }
    ```

-   `Views/_ViewImports.cshtml` - ¬´–æ–±—â–∏–µ using –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ
    TagHelper'–æ–≤¬ª:

    ```csharp
    @using WebApplication
    @using WebApplication.Models
    @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
    ```

### 10.3 –ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

`Views/Home/Index.cshtml`:

```csharp
@{
    ViewData["Title"] = "Home Page";
}
<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>
```

`Views/Shared/_Layout.cshtml` (—Ñ—Ä–∞–≥–º–µ–Ω—Ç):

``` html
<title>@ViewData["Title"] - WebApplication4</title>
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
...
<nav>
  <a class="navbar-brand" asp-controller="Home" asp-action="Index">WebApplication4</a>
  <a class="nav-link" asp-controller="Home" asp-action="Privacy">Privacy</a>
</nav>
<main>
  @RenderBody()
</main>
@await RenderSectionAsync("Scripts", required: false)
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ **Tag Helpers**: 
- `asp-controller="Home"` +`asp-action="Privacy"` - –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–π —Å—Å—ã–ª–∫–∏ `/Home/Privacy` MVC —Å–∞–º —Å–æ–±–µ—Ä—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL. 
- `asp-append-version="true"` - –∫ —Ñ–∞–π–ª—É —Å—Ç–∏–ª–µ–π –¥–æ–±–∞–≤–∏—Ç—Å—è —Ö–µ—à-–≤–µ—Ä—Å–∏—è (`site.css?v=...`), —á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä –Ω–µ –∫—ç—à–∏—Ä–æ–≤–∞–ª —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é.

## 11. –ú–æ–¥–µ–ª–∏ (Models)

–ó–¥–µ—Å—å —Ç–æ–ª—å–∫–æ `ErrorViewModel` (–ø–µ—Ä–µ–¥–∞—ë–º –µ–≥–æ –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏):

```csharp
public class ErrorViewModel
{
    public string? RequestId { get; set; }
    public bool ShowRequestId => !string.IsNullOrEmpty(RequestId);
}
```

–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ç—É—Ç –ø–æ—è–≤–ª—è—é—Ç—Å—è **DTO**, **ViewModel** –∏ –¥–æ–º–µ–Ω–Ω—ã–µ
–º–æ–¥–µ–ª–∏.\
–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è: **–º–æ–¥–µ–ª—å - —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ**, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –≤
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ/–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –≤ —ç–∫—à–µ–Ω–∞—Ö.

## 12. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (`wwwroot`)

–ü–∞–ø–∫–∞ `wwwroot/` - —ç—Ç–æ **–∫–æ—Ä–µ–Ω—å –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏**. –í—Å—ë, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏,
–¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ URL.
 
–ü—Ä–∏–º–µ—Ä—ã: 
- `~/css/site.css` ‚Üí `/css/site.css` 
- `~/js/site.js` ‚Üí `/js/site.js` 
- `~/lib/bootstrap/...` ‚Üí`/lib/bootstrap/...`

–ü—Ä–æ–µ–∫—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ Bootstrap –∏ jQuery, –ø–æ—ç—Ç–æ–º—É —Å—Ç–∏–ª–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
–ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –≤ `_Layout.cshtml`.

------------------------

## 13. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 13.1 `appsettings.json` –∏ `appsettings.Development.json`

-   `appsettings.json` - –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥ (—É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    –∏ —Ç.–ø.).
-   `appsettings.Development.json` - **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –±–∞–∑–æ–≤—ã–π
    –∫–æ–Ω—Ñ–∏–≥, –∫–æ–≥–¥–∞ `ASPNETCORE_ENVIRONMENT=Development`.

–ü—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:

``` json
// appsettings.json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
```

### 13.2 `launchSettings.json` (–ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫)

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –∑–∞–ø—É—Å–∫–∞ –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

``` json
{
  "profiles": {
    "https": {
      "commandName": "Project",
      "launchBrowser": true,
      "applicationUrl": "https://localhost:7217;http://localhost:5266",
      "environmentVariables": {
        "ASPNETCORE_ENVIRONMENT": "Development"
      }
    }
  }
}
```

-   **`applicationUrl`** - –ø–æ—Ä—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ
    –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
-   **`ASPNETCORE_ENVIRONMENT`** - –∑–∞–¥–∞—ë—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`Development`),
    –ø–æ—ç—Ç–æ–º—É –≤–∫–ª—é—á–∞—Ç—Å—è dev-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–æ–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
    (–µ—Å–ª–∏ –µ—ë –ø–æ–¥–∫–ª—é—á–∏—Ç—å).

------------------------

## 14. –ú–∞—Ä—à—Ä—É—Ç—ã: –∫–∞–∫ MVC –ø–æ–Ω–∏–º–∞–µ—Ç, –∫—É–¥–∞ –≤–µ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å

–í `Program.cs` –∑–∞–¥–∞–Ω **–æ–¥–∏–Ω –∫–æ–Ω–≤–µ–Ω—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç**:

```csharp
pattern: "{controller=Home}/{action=Index}/{id?}"
```

–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞: 
- –ï—Å–ª–∏ –ø—É—Ç—å –ø—É—Å—Ç–æ–π (`/`) ‚Üí `controller=Home`, `action=Index`. 
- –ï—Å–ª–∏ –ø—É—Ç—å `/Home/Privacy` ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä `HomeController`, –º–µ—Ç–æ–¥ `Privacy()`. 
- `{id?}` - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –º–µ—Ç–æ–¥–µ `action(int id)`.

–≠—Ç–æ –∫–∞–∫ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –¥–æ–º–æ—Ñ–æ–Ω–µ - ¬´–ø–æ–¥—ä–µ–∑–¥/–∫–≤–∞—Ä—Ç–∏—Ä–∞/—ç—Ç–∞–∂¬ª. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–∏—à–µ–º - –±–µ—Ä—ë—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

------------------------

## 15. –ì–¥–µ –∑–¥–µ—Å—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –æ—à–∏–±–∫–∏ –∏ HTTPS

-   **`UseHttpsRedirection()`** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π
    –ø—Ä–æ—Ç–æ–∫–æ–ª.
-   **`UseHsts()`** - –±—Ä–∞—É–∑–µ—Ä ¬´–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç¬ª, —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ
    –ø–æ HTTPS (–≤ –ø—Ä–æ–¥–µ).
-   **`UseExceptionHandler("/Home/Error")`** - –µ—Å–ª–∏ —É–ø–∞–¥—ë–º –≤ –ø—Ä–æ–¥–µ,
    –ø–æ–∫–∞–∂–µ–º –∞–∫–∫—É—Ä–∞—Ç–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `/Home/Error`.

------------------------

## 16 View –ø–æ–¥—Ä–±–Ω–µ–µ

## 16.1 –ì–¥–µ –∂–∏–≤—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –∫–∞–∫ MVC –∏—Ö –Ω–∞—Ö–æ–¥–∏—Ç

**–ü—Ä–∞–≤–∏–ª–æ –ø–∞–ø–æ–∫:** —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏—â–µ—Ç—Å—è –ø–æ —à–∞–±–ª–æ–Ω—É:

    Views/{–ò–º—è–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞}/{–ò–º—è–î–µ–π—Å—Ç–≤–∏—è}.cshtml

–ü—Ä–∏–º–µ—Ä—ã: 
- `HomeController.Index()` ‚Üí `Views/Home/Index.cshtml` 
- `ProductsController.Details(int id)` ‚Üí `Views/Products/Details.cshtml`

**–û–±—â–∏–µ —Ñ–∞–π–ª—ã:** 
- `Views/Shared/_Layout.cshtml` - –æ–±—â–∏–π –º–∞–∫–µ—Ç
(—à–∞–ø–∫–∞/–ø–æ–¥–≤–∞–ª/–º–µ–Ω—é).\
- `Views/_ViewStart.cshtml` - –≤—ã–±–∏—Ä–∞–µ—Ç –º–∞–∫–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
`Layout = "_Layout";`\
- `Views/_ViewImports.cshtml` - –æ–±—â–∏–µ `@using` –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ Tag
Helpers:\
`cshtml   @using –ü—Ä–æ–µ–∫—Ç.Namespace   @addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers`

------------------------

## 16.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ã—á–Ω–æ–≥–æ View-—Ñ–∞–π–ª–∞

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω:

```cshtml
@model MyApp.Models.ProductViewModel      <!-- —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏–ø –º–æ–¥–µ–ª–∏ (–º–æ–∂–Ω–æ –±–µ–∑ ;) -->
@{
    ViewData["Title"] = "–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞"; // –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è <title> –≤ –º–∞–∫–µ—Ç–µ
}

<h1>@ViewData["Title"]</h1>

<div>
    <p>–ù–∞–∑–≤–∞–Ω–∏–µ: @Model.Name</p>          <!-- –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –º–æ–¥–µ–ª–∏ -->
    <p>–¶–µ–Ω–∞: @Model.Price</p>
</div>
```

**–ß—Ç–æ –≤–∞–∂–Ω–æ:** 
- `@model` (–≤–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞) –∑–∞–¥–∞—ë—Ç **—Ç–∏–ø –º–æ–¥–µ–ª–∏** –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è. 
- `Model` (—Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã) - **—ç–∫–∑–µ–º–ø–ª—è—Ä** —ç—Ç–æ–≥–æ —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–ª –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —á–µ—Ä–µ–∑ `return View(–º–æ–¥–µ–ª—å)`. 
- `ViewData["Title"]` - –ø—Ä–æ—Å—Ç–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–ª—é—á—É (—Å–ª–æ–≤–∞—Ä—å), —É–¥–æ–±–Ω–æ –¥–ª—è –º–µ–ª–æ—á–µ–π (–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç. –ø.).

------------------------

## 16.3 `@model`, `Model`, `ViewData`, `ViewBag`, `TempData`

### 16.3.1 `@model` –∏ `Model`

```cshtml
@model MyApp.Models.ProductViewModel

<h2>@Model.Name</h2>
<p>–¶–µ–Ω–∞: @Model.Price</p>
```

-   **`@model`** - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞.
-   **`Model`** - –æ–±—ä–µ–∫—Ç, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:

```csharp
    public IActionResult Details(int id) {
        var vm = _service.GetProduct(id);
        return View(vm); // vm –ø–æ–ø–∞–¥—ë—Ç –≤ Model –≤ .cshtml
    }
```

### 16.3.2 `ViewData`

-   –¢–∏–ø: `ViewDataDictionary` (—Å–ª–æ–≤–∞—Ä—å `string -> object`).
-   –î–æ—Å—Ç—É–ø –≤ .cshtml: `ViewData["Title"]`, `ViewData["Message"]`.

**–ü—Ä–∏–º–µ—Ä**:

```csharp
    public IActionResult Index() {
        ViewData["Title"] = "–ö–∞—Ç–∞–ª–æ–≥";
        return View();
    }
```

```cshtml
    <title>@ViewData["Title"] - MyApp</title>
```

-   **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–ª—è –Ω–∏—Ö –æ—Ç–¥–µ–ª—å–Ω—É—é –º–æ–¥–µ–ª—å.

### 16.3.3 `ViewBag`

-   –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ `ViewData`. –¢–æ –∂–µ —Å–∞–º–æ–µ, —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–∞:

    ```csharp
    ViewBag.Title = "–ö–∞—Ç–∞–ª–æ–≥";
    ```

    ```cshtml
    <title>@ViewBag.Title - MyApp</title>
    ```

-   **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¥–ª—è —É—á–µ–±–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –º–æ–∂–Ω–æ, –≤ –ø—Ä–æ–¥–µ –ª—É—á—à–µ **–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å `@model` + `Model`** (—Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ).

### 16.3.4 `TempData`

-   –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–∂–∏–≤—ë—Ç **–æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –≤–ø–µ—Ä—ë–¥** - –ø–æ—Å–ª–µ
    —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ —É–¥–æ–±–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è).

-   –ü—Ä–∏–º–µ—Ä (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä):

    ```csharp
    TempData["Success"] = "–¢–æ–≤–∞—Ä —Å–æ—Ö—Ä–∞–Ω—ë–Ω";
    return RedirectToAction("Index");
    ```

    (–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ Index):

    ```cshtml
    @if (TempData["Success"] is string msg) {
        <div class="alert alert-success">@msg</div>
    }
    ```

------------------------

## 16.4 Razor-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å ¬´–Ω–∞ –ø–∞–ª—å—Ü–∞—Ö¬ª

### 16.4.1 –í—Å—Ç–∞–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π

```cshtml
<p>@DateTime.Now</p>
<p>@Model.Name</p>
```

### 16.4.2 –£—Å–ª–æ–≤–∏—è –∏ —Ü–∏–∫–ª—ã

```cshtml
@if (Model.IsAvailable)
{
    <span>–í –Ω–∞–ª–∏—á–∏–∏</span>
}
else
{
    <span>–ù–µ—Ç –Ω–∞ —Å–∫–ª–∞–¥–µ</span>
}

<ul>
@foreach (var item in Model.Items)
{
    <li>@item.Title</li>
}
</ul>
```

### 16.4.3 –ö–æ–¥–æ–≤—ã–µ –±–ª–æ–∫–∏

```cshtml
@{
    var total = Model.Items.Sum(i => i.Price);
}
<p>–°—É–º–º–∞: @total</p>
```

### 16.4.4 –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ `@`

```cshtml
<p>–°–æ–±–∞—á–∫–∞: @@</p> <!-- –≤—ã–≤–µ–¥–µ—Ç —Å–∏–º–≤–æ–ª @ -->
```

------------------------

## 16.5 –ú–∞–∫–µ—Ç—ã (Layout), —Å–µ–∫—Ü–∏–∏ –∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

### 5.1 –ú–∞–∫–µ—Ç `_Layout.cshtml`

–ì–ª–∞–≤–Ω—ã–π –∫–∞—Ä–∫–∞—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```cshtml
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - MyApp</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @RenderSection("Head", required: false) <!-- –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
</head>
<body>
    <header>‚Ä¶–º–µ–Ω—é‚Ä¶</header>
    <main class="container">
        @RenderBody() <!-- —Å—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    </main>
    <footer>¬© @DateTime.Now.Year</footer>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
```

### 16.5.2 –°–µ–∫—Ü–∏—è –≤ –¥–æ—á–µ—Ä–Ω–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏

```cshtml
@section Scripts {
    <script>console.log('—Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã')</script>
}
```

### 16.5.3 –ß–∞—Å—Ç–∏—á–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Partial Views)

-   –§–∞–π–ª—ã-—à–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∫—É—Å–∫–æ–≤ UI, –Ω–∞–ø—Ä–∏–º–µ—Ä `Views/Shared/_ProductCard.cshtml`.
-   –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

    ```cshtml
    @await Html.PartialAsync("_ProductCard", product)
    ```

### 16.5.4 View Components (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —á–∞—Å—Ç–∏—á–Ω—ã—Ö)

-   –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä + –º–∏–Ω–∏-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –•–æ—Ä–æ—à–æ –¥–ª—è –≤–∏–¥–∂–µ—Ç–æ–≤ (–º–µ–Ω—é, –∫–æ—Ä–∑–∏–Ω–∞).\
-   –í —É—á–µ–±–Ω–æ–º –∫—É—Ä—Å–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ –æ–Ω–∏ –µ—Å—Ç—å.

------------------------

## 16.6 Tag Helpers - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–∏—Å–∞—Ç—å HTML –¥–ª—è MVC

**–ü–æ—á–µ–º—É Tag Helpers –ª—É—á—à–µ:** –æ–Ω–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏/–∞—Ç—Ä–∏–±—É—Ç—ã
¬´–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏¬ª –∏ –¥—Ä—É–∂–∞—Ç —Å –º–æ–¥–µ–ª—å—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.

### 16.6.1 –°—Å—ã–ª–∫–∏

```cshtml
<a asp-controller="Products" asp-action="Details" asp-route-id="@item.Id">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
```

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL –¥–ª—è `ProductsController.Details(int id)`.

### 16.6.2 –§–æ—Ä–º—ã

```cshtml
<form asp-controller="Products" asp-action="Create" method="post">
    <input asp-for="Name" class="form-control" />
    <input asp-for="Price" class="form-control" />
    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>
```

-   `asp-for` - –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª–µ –∫ —Å–≤–æ–π—Å—Ç–≤—É –º–æ–¥–µ–ª–∏ (`@model ProductCreateDto`).
-   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç **anti-forgery token** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `<form asp-‚Ä¶method="post">`). –≠—Ç–æ –≥–ª—É–±–æ–∫–∞—è —Ç–µ–º–∞ –ø—Ä–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ, –æ–¥–Ω–∞–∫–æ –º—ã –Ω–µ –±—É–¥–µ—Ç –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞.

### 16.6.3 –ü–æ–ª—è –≤–≤–æ–¥–∞ –∏ –ø–æ–¥–ø–∏—Å–∏

```cshtml
<label asp-for="Name" class="form-label"></label>
<input asp-for="Name" class="form-control" />
<span asp-validation-for="Name" class="text-danger"></span>
```

### 16.6.4 –°–ø–∏—Å–∫–∏/–≤—ã–ø–∞–¥–∞—é—â–∏–µ

```cshtml
<select asp-for="CategoryId" asp-items="Model.Categories" class="form-select"></select>
```

–ì–¥–µ –≤ –º–æ–¥–µ–ª–∏:
`public List<SelectListItem> Categories { get; set; }`

### 16.6.5 –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

**–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –æ—à–∏–±–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–í –º–∞–∫–µ—Ç–µ **–¥–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é):

```cshtml
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
```

–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `asp-validation-summary`, `asp-validation-for` –≤ —Ñ–æ—Ä–º–µ.

–í —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ - –Ω–µ –±—É–¥–µ—Ç —Ç—Ä–æ–≥–∞—Ç—å.

------------------------

## 16.7 GET vs POST: –∫–∞–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Å –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

### 16.7.1 –ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É (GET) ‚Üí –ü—Ä–∏–Ω—è—Ç—å —Ñ–æ—Ä–º—É (POST) ‚Üí Redirect¬ª

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:

```csharp
public class ProductsController : Controller
{
    [HttpGet]
    public IActionResult Create()
    {
        var vm = new ProductCreateVm
        {
            Categories = _catalog.GetCategoriesSelectList()
        };
        return View(vm); // Views/Products/Create.cshtml
    }

    [HttpPost]
    [ValidateAntiForgeryToken]
    public IActionResult Create(ProductCreateVm vm)
    {
        if (!ModelState.IsValid)
        {
            vm.Categories = _catalog.GetCategoriesSelectList(); // –∑–∞–Ω–æ–≤–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å–ø–∏—Å–∫–∏!
            return View(vm); // –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —Ç–æ–π –∂–µ —Ñ–æ—Ä–º–µ
        }

        _catalog.CreateProduct(vm);
        TempData["Success"] = "–¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞–Ω";
        return RedirectToAction("Index");
    }
}
```

View `Create.cshtml`:

```cshtml
@model ProductCreateVm
@{
    ViewData["Title"] = "–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞";
}
<h1>@ViewData["Title"]</h1>

<form asp-action="Create" method="post">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    <div class="mb-3">
        <label asp-for="Name" class="form-label"></label>
        <input asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="Price" class="form-label"></label>
        <input asp-for="Price" class="form-control" />
        <span asp-validation-for="Price" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label asp-for="CategoryId" class="form-label"></label>
        <select asp-for="CategoryId" asp-items="Model.Categories" class="form-select"></select>
        <span asp-validation-for="CategoryId" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>
```

**–ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å:** 
- **GET**-–¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç–¥–∞—ë—Ç **–ø—É—Å—Ç—É—é —Ñ–æ—Ä–º—É** (–∏–ª–∏ —Ñ–æ—Ä–º—É —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏).
- **POST**-–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (**model binding** –ø–æ –∏–º–µ–Ω–∞–º –ø–æ–ª–µ–π), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `ModelState`.
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - **–≤–æ–∑–≤—Ä–∞—â–∞–µ–º View —Å —Ç–æ–π –∂–µ –º–æ–¥–µ–ª—å—é**, —á—Ç–æ–±—ã
–ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫–∏.\
- –ï—Å–ª–∏ –≤—Å—ë –æ–∫ - **—Å–æ—Ö—Ä–∞–Ω—è–µ–º** –∏ –¥–µ–ª–∞–µ–º **Redirect** (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã).

### 16.7.2 –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ (GET)

```cshtml
<form asp-action="Index" method="get">
    <input type="text" name="q" value="@Model.Query" />
    <button type="submit">–ù–∞–π—Ç–∏</button>
</form>
```

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:

```csharp
public IActionResult Index(string? q)
{
    var items = _repo.Search(q);
    return View(new SearchVm { Query = q, Items = items });
}
```

-   –î–ª—è –ø–æ–∏—Å–∫–æ–≤/—Ñ–∏–ª—å—Ç—Ä–æ–≤ —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **GET**, —á—Ç–æ–±—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—ã–ª–∏ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –∏ —Ä–∞–±–æ—Ç–∞–ª–∏ –∑–∞–∫–ª–∞–¥–∫–∏.

------------------------

## 16.8) –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

–ú–æ–¥–µ–ª—å:

```csharp
public class ProductCreateVm
{
    [Required, StringLength(100)]
    public string Name { get; set; } = string.Empty;

    [Range(0.01, 999999)]
    public decimal Price { get; set; }

    [Required]
    public int CategoryId { get; set; }

    public IEnumerable<SelectListItem> Categories { get; set; } = [];
}
```

View (—Ñ—Ä–∞–≥–º–µ–Ω—Ç - —É–∂–µ –±—ã–ª –≤—ã—à–µ):

```cshtml
<div asp-validation-summary="ModelOnly" class="text-danger"></div>
<label asp-for="Name"></label>
<input asp-for="Name" />
<span asp-validation-for="Name" class="text-danger"></span>
```

-   –ê—Ç—Ä–∏–±—É—Ç—ã (`[Required]`, `[Range]`, `[StringLength]`) –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è **–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** –≤—Å–µ–≥–¥–∞.
-   –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã - –±—É–¥–µ—Ç –∏ **–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è** –≤–∞–ª–∏–¥–∞—Ü–∏—è (–º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç –ø–æ–ª–µ).

------------------------

## 16.9 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –∏ ¬´–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∏–ª—å¬ª –¥–ª—è Views

1.  **–°—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ `@model`. –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫, –ª—É—á—à–µ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ.
2.  **–ú–µ–Ω—å—à–µ –ª–æ–≥–∏–∫–∏ –≤ `.cshtml`** - –º–∞–∫—Å–∏–º—É–º —É—Å–ª–æ–≤–∏—è –∏ –ø—Ä–æ—Å—Ç—ã–µ —Ü–∏–∫–ª—ã. –í—Å—è —Ç—è–∂—ë–ª–∞—è –ª–æ–≥–∏–∫–∞ - –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä/—Å–µ—Ä–≤–∏—Å.
3.  **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Tag Helpers** –≤–º–µ—Å—Ç–æ ¬´—Ä—É—á–Ω—ã—Ö¬ª —Å—Å—ã–ª–æ–∫/—Ñ–æ—Ä–º - –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.
4.  **–ï–¥–∏–Ω—ã–π –º–∞–∫–µ—Ç** –∏ **—á–∞—Å—Ç–∏—á–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –±–ª–æ–∫–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏, –º–µ–Ω—é).
5.  **–í–æ–∑–≤—Ä–∞—Ç –ø–æ—Å–ª–µ POST - —Ç–æ–ª—å–∫–æ Redirect** (PRG-–ø–∞—Ç—Ç–µ—Ä–Ω: Post/Redirect/Get).
6.  **–ù–µ –¥–æ–≤–µ—Ä—è–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: –æ–Ω–∞ —É–¥–æ–±–Ω–∞, –Ω–æ —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å—ë –∑–∞–Ω–æ–≤–æ.
7.  **–ò–º–µ–Ω–∞ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–∞–º–∏ —Å–≤–æ–π—Å—Ç–≤ –º–æ–¥–µ–ª–∏** - —Ç–æ–≥–¥–∞ –±–∏–Ω–¥–∏—Ç—Å—è ¬´—Å–∞–º–æ¬ª.
8.  **–°–æ–±–ª—é–¥–∞–π—Ç–µ –ø–∞–ø–æ—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**: `Views/{Controller}/{Action}.cshtml`. –¢–∞–∫ –ø—Ä–æ—â–µ –∂–∏—Ç—å –≤—Å–µ–º.

------------------------

## 16.10 –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –Ω–æ–≤–∏—á–∫–æ–≤

-   –ó–∞–±—ã–ª–∏ `@model` ‚Üí `Model` –ø—É—Å—Ç–æ–π/—Ç–∏–ø `dynamic` ‚Üí –æ—à–∏–±–æ–∫ –Ω–µ –≤–∏–¥–Ω–æ –¥–æ —Ä–∞–Ω—Ç–∞–π–º–∞.
-   –°–ª–æ–º–∞–ª–∏ –ø—É—Ç–∏ —Å—Ç–∞—Ç–∏–∫–∏ ‚Üí –Ω–µ—Ç —Å—Ç–∏–ª–µ–π/—Å–∫—Ä–∏–ø—Ç–æ–≤. –í—Å—é —Å—Ç–∞—Ç–∏–∫—É —Ö—Ä–∞–Ω–∏—Ç–µ –≤ `wwwroot`.\
-   –ù–µ –≤–µ—Ä–Ω—É–ª–∏ —Å–ø–∏—Å–∫–∏ (SelectList) –ø—Ä–∏ `ModelState.IsValid == false` ‚Üí –≤—ã–ø–∞–¥–∞—é—â–∏–µ –ø—É—Å—Ç—ã–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–æ–∫–∞–∑–µ —Ñ–æ—Ä–º—ã.\
-   –ü–∏—à—É—Ç `<form method="post">` –±–µ–∑ `asp-action`/`asp-controller` –∏ –±–µ–∑ –∞–Ω—Ç–∏-—Ñ—Ä–æ–¥–∞ - –ª–æ–≤—è—Ç 400/–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.\
-   –í—ã–≤–æ–¥—è—Ç –æ—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `asp-validation-summary`, –Ω–æ –∑–∞–±—ã–≤–∞—é—Ç `asp-validation-for` —É –ø–æ–ª–µ–π - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –Ω–µ —Ç–∞–∫.

------------------------
